{
  "version": 3,
  "sources": ["../../../src/state/createState.ts"],
  "sourcesContent": ["import type { StateHandler, State, StateManager } from \"./types\";\n\nconst _createUUID = (): string => Math.random().toString(36).substring(2, 11);\n\nexport const createState = <S>(initialState: State<S>): StateManager<S> => {\n  const _state = JSON.parse(JSON.stringify(initialState));\n  const _handlers = new Set<StateHandler>();\n  const _id: Readonly<string> = _createUUID();\n\n  const _notifyHandlers = (payload: State<S>) => {\n    for (const stateHandler of _handlers) {\n      stateHandler<S>(payload);\n    }\n  };\n\n  const set = (payload: State<S>) => {\n    Object.assign(_state, JSON.parse(JSON.stringify(payload)));\n    _notifyHandlers(JSON.parse(JSON.stringify(_state)));\n  };\n\n  const get = (): State<S> => {\n    return JSON.parse(JSON.stringify(_state));\n  };\n\n  const watch = (callback: StateHandler) => {\n    _handlers.add(callback);\n  };\n\n  return { set, get, watch };\n};\n"],
  "mappings": "+EAEA,IAAMA,EAAcC,EAAA,IAAc,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,UAAU,EAAG,EAAE,EAAxD,eAEPC,EAAcD,EAAIE,GAA4C,CACzE,IAAMC,EAAS,KAAK,MAAM,KAAK,UAAUD,CAAY,CAAC,EAChDE,EAAY,IAAI,IAChBC,EAAwBN,EAAY,EAEpCO,EAAkBN,EAACO,GAAsB,CAC7C,QAAWC,KAAgBJ,EACzBI,EAAgBD,CAAO,CAE3B,EAJwB,mBAmBxB,MAAO,CAAE,IAbGP,EAACO,GAAsB,CACjC,OAAO,OAAOJ,EAAQ,KAAK,MAAM,KAAK,UAAUI,CAAO,CAAC,CAAC,EACzDD,EAAgB,KAAK,MAAM,KAAK,UAAUH,CAAM,CAAC,CAAC,CACpD,EAHY,OAaE,IARFH,EAAA,IACH,KAAK,MAAM,KAAK,UAAUG,CAAM,CAAC,EAD9B,OAQO,MAJLH,EAACS,GAA2B,CACxCL,EAAU,IAAIK,CAAQ,CACxB,EAFc,QAIW,CAC3B,EAzB2B",
  "names": ["_createUUID", "__name", "createState", "initialState", "_state", "_handlers", "_id", "_notifyHandlers", "payload", "stateHandler", "callback"]
}
