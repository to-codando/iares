var V=Object.defineProperty;var n=(e,t)=>V(e,"name",{value:t,configurable:!0});var D=n(()=>{let e;return{setup:n(c=>(e=c(),c()),"setup"),mount:n(c=>c(e),"mount"),unmount:n(c=>c(e),"unmount")}},"CreateApp");var C=n(e=>{let t=JSON.parse(JSON.stringify(e)),o=new Set,r=n(l=>{for(let i of o)i(l)},"_notifyHandlers");return{set:n(l=>{Object.assign(t,JSON.parse(JSON.stringify(l))),r(JSON.parse(JSON.stringify(t)))},"set"),get:n(()=>JSON.parse(JSON.stringify(t)),"get"),watch:n(l=>{o.add(l)},"watch")}},"createState");var A=n(()=>{let e=new Set;return{add:n(r=>{e.add(r)},"add"),execute:n(()=>{for(let{action:r,validator:c}of e)c()&&r()},"execute")}},"createChain");var I=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","oncontextmenu","onkeydown","onkeyup","onkeypress","onfocus","onblur","onsubmit","onchange","oninput","onreset","oninvalid","onplay","onpause","onended","onvolumechange","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onanimationstart","onanimationend","onanimationiteration","ontransitionend","onload","onerror","onresize","onscroll"];var N=n(e=>()=>!!e&&!Array.isArray(e)&&typeof e=="object","isObject"),$=n(e=>()=>!!e&&Array.isArray(e),"isArray"),P=n(e=>()=>!!e&&typeof e=="function","isFunction"),R=n(e=>()=>typeof e=="string","isString"),F=n(e=>()=>typeof e!="string"?!1:I.includes(e.toLowerCase()),"isEventName"),_=n(e=>()=>typeof e=="string"||typeof e=="number","isTemplateData");var j=n((e,t,o={})=>()=>{let r=A();r.add({validator:R(e.type),action:v(e,t,o)}),r.add({validator:P(e.type),action:H(e,t,o)}),r.execute()},"renderTemplateObject");var w=n((e,t,o={})=>()=>{for(let r of e)S(r,t,o)},"renderTemplateArray");var T=n((e,t,o={})=>{if(t.innerHTML="",!Array.isArray(e)&&typeof e=="object"){S(e,t,o);return}for(let r of e)S(r,t,o)},"renderChildren");var q=n(function(e,t,o,r){var c;t[0]=0;for(var s=1;s<t.length;s++){var a=t[s++],l=t[s]?(t[0]|=a?1:2,o[t[s++]]):t[++s];a===3?r[0]=l:a===4?r[1]=Object.assign(r[1]||{},l):a===5?(r[1]=r[1]||{})[t[++s]]=l:a===6?r[1][t[++s]]+=l+"":a?(c=e.apply(l,q(e,l,o,["",null])),r.push(c),l[0]?t[0]|=2:(t[s-2]=0,t[s]=c)):r.push(l)}return r},"n"),X=new Map;function B(e){var t=X.get(this);return t||(t=new Map,X.set(this,t)),(t=q(this,t.get(e)||(t.set(e,t=function(o){for(var r,c,s=1,a="",l="",i=[0],p=function(m){s===1&&(m||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,m,a):s===3&&(m||a)?(i.push(3,m,a),s=2):s===2&&a==="..."&&m?i.push(4,m,0):s===2&&a&&!m?i.push(5,0,!0,a):s>=5&&((a||!m&&s===5)&&(i.push(s,0,a,c),s=6),m&&(i.push(s,m,0,c),s=6)),a=""},u=0;u<o.length;u++){u&&(s===1&&p(),p(u));for(var g=0;g<o[u].length;g++)r=o[u][g],s===1?r==="<"?(p(),i=[i],s=3):a+=r:s===4?a==="--"&&r===">"?(s=1,a=""):a=r+a[0]:l?r===l?l="":a+=r:r==='"'||r==="'"?l=r:r===">"?(p(),s=1):s&&(r==="="?(s=5,c=a,a=""):r==="/"&&(s<5||o[u][g+1]===">")?(p(),s===3&&(i=i[0]),s=i,(i=i[0]).push(2,0,s),s=0):r===" "||r==="	"||r===`
`||r==="\r"?(p(),s=2):a+=r),s===3&&a==="!--"&&(s=4,i=i[0])}return p(),i}(e)),t),arguments,[])).length>1?t:t[0]}n(B,"default");var Z=n((e,t,...o)=>({type:e,props:t,children:o}),"hypertext"),d=B.bind(Z);var W=n((e,t)=>{let o=5381;for(let r=0;r<e.length;r++)o=o*33^e.charCodeAt(r);return`${t}-${(o>>>0).toString(36)}`},"createHash");var K=new Map,J=n(e=>{let t=K.get(e);if(t!==void 0)return t;let o=document.createElement("style");return o.setAttribute("data-component",e),document.head.appendChild(o),K.set(e,o),o},"createStyleElement");var Y=n(({style:e,selector:t})=>{let o=e.split(`
`),r=/^\s*([\w-]+)\s*:\s*[^;]+;/,c={insideBlock:0,globalRules:"",result:""},s=n((m,y,f)=>({globalRules:"",result:`${y}${f} {
${m}}

`}),"processGlobalRules"),a=n((m,y)=>({globalRules:"",result:`${y}${m}
`}),"processRegularLine"),l=n((m,y)=>({globalRules:`${y}${m}
`,result:""}),"addGlobalRule"),i=n(m=>{let y=(m.match(/{/g)||[]).length,f=(m.match(/}/g)||[]).length;return y-f},"countBlocks"),p=n((m,y)=>{if(m.insideBlock+=i(y),m.insideBlock===0&&r.test(y)){let{globalRules:h,result:b}=l(y,m.globalRules);return{...m,globalRules:h,result:m.result+b}}if(m.globalRules){let{globalRules:h,result:b}=s(m.globalRules,m.result,t),L=a(y,"");return{...m,globalRules:h,result:b+L.result}}let{globalRules:f,result:k}=a(y,m.result);return{...m,globalRules:f,result:k}},"processLine"),{result:u,globalRules:g}=o.reduce(p,c);return g?`${u}${t} {
${g}}
`.trim():u.trim()},"wrapLooseRulesOutsideMediaQuery"),ee=n(({style:e,selector:t})=>{let o=/@media\s*([^{]+)\s*\{([\s\S]*?)\}/g,r=/^\s*([\w-]+)\s*:\s*[^;]+;/;return e.replace(o,(c,s,a)=>{let i=a.trim().split(`
`).map(p=>p.trim()).filter(p=>p).filter(p=>r.test(p)).map(p=>`${t} {
${p.trim()}
}`).join(`
`);return`@media ${s.trim()} {
${i}
}`})},"wrapLooseRulesInsideMediaQuery"),te=n(({style:e,selector:t})=>{let o=/\.(\w+)/g;return e.replace(o,`.${t}_$1`)},"applyClassNameScope"),G=n((e,t)=>{let o=e,r=`.${t}`;return o=te({style:o,selector:t}),o=Y({style:o,selector:r}),o=ee({style:o,selector:r}),o},"transformStyle");var Q=new Map,M=n((e,t=()=>{})=>(o,...r)=>{let c=o.reduce((p,u,g)=>`${p}${u}${r[g]!==void 0?r[g]:""}`,""),s=Q.get(c);if(s!==void 0)return s;let a=W(c,e),l=G(c,`${a}`),i=J(`${a}`);return t({hashId:a,scopedStyle:l,styleElement:i}),i.innerHTML.includes(l)||(i.innerHTML+=l),Q.set(c,a),a},"css");var x=n((e,t)=>{let o=t?Object.keys(t):[];for(let r of o)if(!F(r)())e.setAttribute(r,t[r]);else{let c=r.replace(/on/,"").toLowerCase(),s=t[r];e.addEventListener(c,s)}return e},"setElementAttributes");var z={},re=n(e=>e.name.split(/(?=[A-Z])/).join("-").toLowerCase(),"_createTagByFactoryName"),ne=n(e=>{let t={};return{currentState:t,useState:n(r=>{let c=e.get();return e.set({...r,...c}),Object.assign(t,e.get()),{get:e.get,set:e.set,watch:e.watch}},"useState")}},"_createUseState"),oe=n(({props:e,state:t,css:o})=>{let r={};return{styles:r,useStyle:n(s=>{let a=s(),l={};for(let i in a){let p=a[i],u=p({props:e,state:t,css:o});l[i]=u}return Object.assign(r,l),l},"useStyle")}},"_createUseStyle"),se=n(e=>n((o,r)=>o(e,r),"useTemplate"),"_createUseTemplate"),ae=n(({props:e,state:t})=>{let o={};return{actions:o,useAction:n(c=>{let s=c({props:e,state:t});Object.assign(o,s)},"useAction")}},"_createUseAction"),H=n((e,t,o={})=>()=>{let r=e.type,c=re(r),s=c.toLowerCase(),a=document.createElement(c),l=e.props,i=JSON.parse(JSON.stringify(o)),p=C(i),{currentState:u,useState:g}=ne(p),m=M(s,({hashId:E})=>{a.classList.add(E),Object.assign(z,{class:E})}),{styles:y,useStyle:f}=oe({props:l,state:u,css:m}),{actions:k,useAction:h}=ae({props:l,state:p}),b=se({props:l,state:u,html:d,jsx:d,tsx:d,styles:y,actions:k}),L=r({props:l,useState:g,useStyle:f,useTemplate:b,useAction:h}),U=t.querySelector(s);x(a,z),U?U.replaceWith(a):t.insertAdjacentElement("beforeend",a),T(L,a,u),p.watch(E=>{a.innerHTML="",S(e,t,E)})},"createElementByFactoryName");var v=n((e,t,o={})=>()=>{let r=e.type,c=r.toLowerCase(),s=document.createElement(r),a=t.getAttribute("class"),l=e?.props?.class;if(l&&!l.includes(a)){let i=`${a}_${l}`;x(s,{class:i}),t.insertAdjacentElement("beforeend",s),T(e.children,s,o);return}x(s,e.props),t.insertAdjacentElement("beforeend",s),T(e.children,s,o)},"createElementByTagName");var O=n((e,t,o={})=>()=>{if(typeof e=="string"&&t.insertAdjacentHTML("beforeend",e),typeof e=="number"){let c=Number(e).toString();t.insertAdjacentHTML("beforeend",c)}},"renderTemplateData");var S=n((e,t=document.body,o={})=>{let r=A(),c=t||document.querySelector("body");return r.add({validator:$(e),action:w(e,c,o)}),r.add({validator:N(e),action:j(e,c,o)}),r.add({validator:_(e),action:O(e,c,o)}),r.execute(),c},"render");export{D as CreateApp,C as createState,M as css,d as html,d as jsx,S as render,d as tsx};
//# sourceMappingURL=index.js.map
