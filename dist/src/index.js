var q=Object.defineProperty;var o=(e,t)=>q(e,"name",{value:t,configurable:!0});var _=o(()=>{let e;return{setup:o(s=>(e=s(),s()),"setup"),mount:o(s=>s(e),"mount"),unmount:o(s=>s(e),"unmount")}},"CreateApp");var z=o(()=>Math.random().toString(36).substring(2,11),"_createUUID"),T=o(e=>{let t=JSON.parse(JSON.stringify(e)),a=new Set,r=z(),s=o(m=>{for(let i of a)i(m)},"_notifyHandlers");return{set:o(m=>{Object.assign(t,JSON.parse(JSON.stringify(m))),s(JSON.parse(JSON.stringify(t)))},"set"),get:o(()=>JSON.parse(JSON.stringify(t)),"get"),watch:o(m=>{a.add(m)},"watch")}},"createState");var g=o(()=>{let e=new Set;return{add:o(r=>{e.add(r)},"add"),execute:o(()=>{for(let{action:r,validator:s}of e)s()&&r()},"execute")}},"createChain");var P=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","oncontextmenu","onkeydown","onkeyup","onkeypress","onfocus","onblur","onsubmit","onchange","oninput","onreset","oninvalid","onplay","onpause","onended","onvolumechange","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onanimationstart","onanimationend","onanimationiteration","ontransitionend","onload","onerror","onresize","onscroll"];var H=o(e=>()=>!!e&&!Array.isArray(e)&&typeof e=="object","isObject"),v=o(e=>()=>!!e&&Array.isArray(e),"isArray"),M=o(e=>()=>!!e&&typeof e=="function","isFunction"),O=o(e=>()=>typeof e=="string","isString"),w=o(e=>()=>typeof e!="string"?!1:P.includes(e.toLowerCase()),"isEventName"),k=o(e=>()=>typeof e=="string"||typeof e=="number","isTemplateData");var x=o((e,t,a={})=>()=>{let r=g();r.add({validator:O(e.type),action:E(e,t,a)}),r.add({validator:M(e.type),action:h(e,t,a)}),r.execute()},"renderTemplateObject");var b=o((e,t,a={})=>()=>{for(let r of e)u(r,t,a)},"renderTemplateArray");var f=o((e,t,a={})=>{if(!Array.isArray(e)&&typeof e=="object"){u(e,t,a);return}for(let r of e)u(r,t,a)},"renderChildren");var G=o(function(e,t,a,r){var s;t[0]=0;for(var n=1;n<t.length;n++){var c=t[n++],p=t[n]?(t[0]|=c?1:2,a[t[n++]]):t[++n];c===3?r[0]=p:c===4?r[1]=Object.assign(r[1]||{},p):c===5?(r[1]=r[1]||{})[t[++n]]=p:c===6?r[1][t[++n]]+=p+"":c?(s=e.apply(p,G(e,p,a,["",null])),r.push(s),p[0]?t[0]|=2:(t[n-2]=0,t[n]=s)):r.push(p)}return r},"n"),J=new Map;function N(e){var t=J.get(this);return t||(t=new Map,J.set(this,t)),(t=G(this,t.get(e)||(t.set(e,t=function(a){for(var r,s,n=1,c="",p="",m=[0],i=function(y){n===1&&(y||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,y,c):n===3&&(y||c)?(m.push(3,y,c),n=2):n===2&&c==="..."&&y?m.push(4,y,0):n===2&&c&&!y?m.push(5,0,!0,c):n>=5&&((c||!y&&n===5)&&(m.push(n,0,c,s),n=6),y&&(m.push(n,y,0,s),n=6)),c=""},l=0;l<a.length;l++){l&&(n===1&&i(),i(l));for(var S=0;S<a[l].length;S++)r=a[l][S],n===1?r==="<"?(i(),m=[m],n=3):c+=r:n===4?c==="--"&&r===">"?(n=1,c=""):c=r+c[0]:p?r===p?p="":c+=r:r==='"'||r==="'"?p=r:r===">"?(i(),n=1):n&&(r==="="?(n=5,s=c,c=""):r==="/"&&(n<5||a[l][S+1]===">")?(i(),n===3&&(m=m[0]),n=m,(m=m[0]).push(2,0,n),n=0):r===" "||r==="	"||r===`
`||r==="\r"?(i(),n=2):c+=r),n===3&&c==="!--"&&(n=4,m=m[0])}return i(),m}(e)),t),arguments,[])).length>1?t:t[0]}o(N,"default");var V=o((e,t,...a)=>({type:e,props:t,children:a}),"hypertext"),d=N.bind(V);var $=o(e=>{let t=5381;for(let a=0;a<e.length;a++)t=t*33^e.charCodeAt(a);return`css-${(t>>>0).toString(36)}`},"createHash");var U=new Map,L=o(e=>{let t=U.get(e);if(t!==void 0)return t;let a=document.createElement("style");return a.setAttribute("data-component",e),document.head.appendChild(a),U.set(e,a),a},"createStyleElement");var D=o((e,t)=>{let a=e;return a=a.replace(/&/g,`.${t}`),a.replace(/(?:^|\})([^{]+;)/g,(s,n)=>`.${t} {${n.trim()}}`).replace(/([^{]+\{)/g,(s,n)=>n.includes("@")?s:`${n.includes(t)?n:`.${t} ${n.trim()}`} `)},"processCSS"),F=o((e,t)=>{let a=/(@media[^{]+\{)([\s\S]+?})\s*}/gm,r=/(@keyframes[^{]+\{(?:[^{}]*\{[^{}]*\}\s*)*?\})/gm,s=e,n=[],c;for(;(c=r.exec(e))!==null;)c&&(n.push(c[0]),s=s.replace(c[0],""));let p=[],m;for(m=a.exec(s);m!==null;){if(m){let l=D(m[2].trim(),t);p.push(`${m[1]}
  ${l}
}`),s=s.replace(m[0],"")}m=a.exec(s)}return s=D(s.trim(),t),`${s}
${p.join(`
`)}
${n.join(`
`)}`.trim()},"transpile");var B=new Map,C=o((e,...t)=>{let a=e.reduce((p,m,i)=>`${p}${m}${t[i]!==void 0?t[i]:""}`,""),r=B.get(a);if(r!==void 0)return r;let s=$(a),n=F(a,s),c=L(`component-${s}`);return c.innerHTML.includes(n)||(c.innerHTML+=n),B.set(a,s),s},"css");var Z=o(e=>e.name.split(/(?=[A-Z])/).join("-").toLowerCase(),"_createTagByFactoryName"),W=o(e=>{let t={};return{currentState:t,useState:o(r=>{let s=e.get();return e.set({...r,...s}),Object.assign(t,e.get()),{get:e.get,set:e.set,watch:e.watch}},"useState")}},"_createUseState"),Y=o(({props:e,state:t,css:a})=>{let r={};return{styles:r,useStyle:o(n=>{let c=n(),p={};for(let m in c){let i=c[m],l=i({props:e,state:t,css:a});p[m]=l}return Object.assign(r,p),p},"useStyle")}},"_createUseStyle"),ee=o(e=>o((a,r)=>a(e,r),"useTemplate"),"_createUseTemplate"),te=o(({props:e,state:t})=>{let a={};return{actions:a,useAction:o(s=>{let n=s({props:e,state:t});Object.assign(a,n)},"useAction")}},"_createUseAction"),h=o((e,t,a={})=>()=>{let r=e.type,s=Z(r),n=document.createElement(s),c=e.props,p=JSON.parse(JSON.stringify(a)),m=T(p),{currentState:i,useState:l}=W(m),{styles:S,useStyle:y}=Y({props:c,state:i,css:C}),{actions:X,useAction:R}=te({props:c,state:m}),I=ee({props:c,state:i,html:d,jsx:d,tsx:d,styles:S,actions:X}),K=r({props:c,useState:l,useStyle:y,useTemplate:I,useAction:R});t.insertAdjacentElement("beforeend",n),f(K,n,i),m.watch(Q=>{n.innerHTML="",u(e,n,Q)})},"createElementByFactoryName");var A=o((e,t)=>{let a=t?Object.keys(t):[];for(let r of a)if(!w(r)())e.setAttribute(r,t[r]);else{let s=r.replace(/on/,"").toLowerCase(),n=t[r];e.addEventListener(s,n)}return e},"setElementAttributes");var E=o((e,t,a={})=>()=>{let r=e.type,s=document.createElement(r);A(s,e.props),t.insertAdjacentElement("beforeend",s),f(e.children,s,a)},"createElementByTagName");var j=o((e,t,a={})=>()=>{if(typeof e=="string"&&t.insertAdjacentHTML("beforeend",e),typeof e=="number"){let s=Number(e).toString();t.insertAdjacentHTML("beforeend",s)}},"renderTemplateData");var u=o((e,t=document.body,a={})=>{let r=g(),s=t||document.querySelector("body");return r.add({validator:v(e),action:b(e,s,a)}),r.add({validator:H(e),action:x(e,s,a)}),r.add({validator:k(e),action:j(e,s,a)}),r.execute(),s},"render");export{_ as CreateApp,T as createState,C as css,d as html,d as jsx,u as render,d as tsx};
//# sourceMappingURL=index.js.map
