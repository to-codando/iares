var q=Object.defineProperty;var o=(e,t)=>q(e,"name",{value:t,configurable:!0});var _=o(()=>{let e;return{setup:o(s=>(e=s(),s()),"setup"),mount:o(s=>s(e),"mount"),unmount:o(s=>s(e),"unmount")}},"CreateApp");var z=o(()=>Math.random().toString(36).substring(2,11),"_createUUID"),T=o(e=>{let t=JSON.parse(JSON.stringify(e)),a=new Set,r=z(),s=o(p=>{for(let i of a)i(p)},"_notifyHandlers");return{set:o(p=>{Object.assign(t,JSON.parse(JSON.stringify(p))),s(JSON.parse(JSON.stringify(t)))},"set"),get:o(()=>JSON.parse(JSON.stringify(t)),"get"),watch:o(p=>{a.add(p)},"watch")}},"createState");var g=o(()=>{let e=new Set;return{add:o(r=>{e.add(r)},"add"),execute:o(()=>{for(let{action:r,validator:s}of e)s()&&r()},"execute")}},"createChain");var P=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","oncontextmenu","onkeydown","onkeyup","onkeypress","onfocus","onblur","onsubmit","onchange","oninput","onreset","oninvalid","onplay","onpause","onended","onvolumechange","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onanimationstart","onanimationend","onanimationiteration","ontransitionend","onload","onerror","onresize","onscroll"];var j=o(e=>()=>!!e&&!Array.isArray(e)&&typeof e=="object","isObject"),v=o(e=>()=>!!e&&Array.isArray(e),"isArray"),O=o(e=>()=>!!e&&typeof e=="function","isFunction"),M=o(e=>()=>typeof e=="string","isString"),w=o(e=>()=>typeof e!="string"?!1:P.includes(e.toLowerCase()),"isEventName"),N=o(e=>()=>typeof e=="string"||typeof e=="number","isTemplateData");var x=o((e,t,a={})=>()=>{let r=g();r.add({validator:M(e.type),action:E(e,t,a)}),r.add({validator:O(e.type),action:h(e,t,a)}),r.execute()},"renderTemplateObject");var b=o((e,t,a={})=>()=>{for(let r of e)u(r,t,a)},"renderTemplateArray");var f=o((e,t,a={})=>{if(!Array.isArray(e)&&typeof e=="object"){u(e,t,a);return}for(let r of e)u(r,t,a)},"renderChildren");var G=o(function(e,t,a,r){var s;t[0]=0;for(var n=1;n<t.length;n++){var c=t[n++],m=t[n]?(t[0]|=c?1:2,a[t[n++]]):t[++n];c===3?r[0]=m:c===4?r[1]=Object.assign(r[1]||{},m):c===5?(r[1]=r[1]||{})[t[++n]]=m:c===6?r[1][t[++n]]+=m+"":c?(s=e.apply(m,G(e,m,a,["",null])),r.push(s),m[0]?t[0]|=2:(t[n-2]=0,t[n]=s)):r.push(m)}return r},"n"),J=new Map;function k(e){var t=J.get(this);return t||(t=new Map,J.set(this,t)),(t=G(this,t.get(e)||(t.set(e,t=function(a){for(var r,s,n=1,c="",m="",p=[0],i=function(l){n===1&&(l||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?p.push(0,l,c):n===3&&(l||c)?(p.push(3,l,c),n=2):n===2&&c==="..."&&l?p.push(4,l,0):n===2&&c&&!l?p.push(5,0,!0,c):n>=5&&((c||!l&&n===5)&&(p.push(n,0,c,s),n=6),l&&(p.push(n,l,0,s),n=6)),c=""},d=0;d<a.length;d++){d&&(n===1&&i(),i(d));for(var S=0;S<a[d].length;S++)r=a[d][S],n===1?r==="<"?(i(),p=[p],n=3):c+=r:n===4?c==="--"&&r===">"?(n=1,c=""):c=r+c[0]:m?r===m?m="":c+=r:r==='"'||r==="'"?m=r:r===">"?(i(),n=1):n&&(r==="="?(n=5,s=c,c=""):r==="/"&&(n<5||a[d][S+1]===">")?(i(),n===3&&(p=p[0]),n=p,(p=p[0]).push(2,0,n),n=0):r===" "||r==="	"||r===`
`||r==="\r"?(i(),n=2):c+=r),n===3&&c==="!--"&&(n=4,p=p[0])}return i(),p}(e)),t),arguments,[])).length>1?t:t[0]}o(k,"default");var V=o((e,t,...a)=>({type:e,props:t,children:a}),"hypertext"),y=k.bind(V);var L=o(e=>{let t=5381;for(let a=0;a<e.length;a++)t=t*33^e.charCodeAt(a);return`css-${(t>>>0).toString(36)}`},"createHash");var U=new Map,$=o(e=>{let t=U.get(e);if(t!==void 0)return t;let a=document.createElement("style");return a.setAttribute("data-component",e),document.head.appendChild(a),U.set(e,a),a},"createStyleElement");var D=o((e,t)=>{let a=e;return a=a.replace(/&/g,`.${t}`),a.replace(/(?:^|\})([^{]+;)/g,(s,n)=>`.${t} {${n.trim()}}`).replace(/([^{]+\{)/g,(s,n)=>n.includes("@")?s:`${n.includes(t)?n:`.${t} ${n.trim()}`} `)},"processCSS"),F=o((e,t)=>{let a=/(@media[^{]+\{)([\s\S]+?})\s*}/g,r=e,s=[],n;for(n=a.exec(e);n!==null;){if(n){let c=D(n[2].trim(),t);s.push(`${n[1]}
  ${c}
}`),r=r.replace(n[0],"")}n=a.exec(e)}return r=D(r.trim(),t),`${r}
${s.join(`
`)}`.trim()},"transpile");var B=new Map,A=o((e,...t)=>{let a=e.reduce((m,p,i)=>`${m}${p}${t[i]!==void 0?t[i]:""}`,""),r=B.get(a);if(r!==void 0)return r;let s=L(a),n=F(a,s),c=$(`component-${s}`);return c.innerHTML.includes(n)||(c.innerHTML+=n),B.set(a,s),s},"css");var Z=o(e=>e.name.split(/(?=[A-Z])/).join("-").toLowerCase(),"_createTagByFactoryName"),W=o(e=>{let t={};return{currentState:t,useState:o(r=>{let s=e.get();return e.set({...r,...s}),Object.assign(t,e.get()),{get:e.get,set:e.set,watch:e.watch}},"useState")}},"_createUseState"),Y=o(({props:e,state:t,css:a})=>{let r={};return{styles:r,useStyle:o(n=>{let c=n(),m={};for(let p in c){let i=c[p],d=i({props:e,state:t,css:a});m[p]=d}return Object.assign(r,m),m},"useStyle")}},"_createUseStyle"),ee=o(e=>o((a,r)=>a(e,r),"useTemplate"),"_createUseTemplate"),te=o(({props:e,state:t})=>{let a={};return{actions:a,useAction:o(s=>{let n=s({props:e,state:t});Object.assign(a,n)},"useAction")}},"_createUseAction"),h=o((e,t,a={})=>()=>{let r=e.type,s=Z(r),n=document.createElement(s),c=e.props,m=JSON.parse(JSON.stringify(a)),p=T(m),{currentState:i,useState:d}=W(p),{styles:S,useStyle:l}=Y({props:c,state:i,css:A}),{actions:X,useAction:I}=te({props:c,state:p}),K=ee({props:c,state:i,html:y,jsx:y,tsx:y,styles:S,actions:X}),Q=r({props:c,useState:d,useStyle:l,useTemplate:K,useAction:I});t.insertAdjacentElement("beforeend",n),f(Q,n,i),p.watch(R=>{n.innerHTML="",u(e,n,R)})},"createElementByFactoryName");var C=o((e,t)=>{let a=t?Object.keys(t):[];for(let r of a)if(!w(r)())e.setAttribute(r,t[r]);else{let s=r.replace(/on/,"").toLowerCase(),n=t[r];e.addEventListener(s,n)}return e},"setElementAttributes");var E=o((e,t,a={})=>()=>{let r=e.type,s=document.createElement(r);C(s,e.props),t.insertAdjacentElement("beforeend",s),f(e.children,s,a)},"createElementByTagName");var H=o((e,t,a={})=>()=>{if(typeof e=="string"&&t.insertAdjacentHTML("beforeend",e),typeof e=="number"){let s=Number(e).toString();t.insertAdjacentHTML("beforeend",s)}},"renderTemplateData");var u=o((e,t=document.body,a={})=>{let r=g(),s=t||document.querySelector("body");return r.add({validator:v(e),action:b(e,s,a)}),r.add({validator:j(e),action:x(e,s,a)}),r.add({validator:N(e),action:H(e,s,a)}),r.execute(),s},"render");export{_ as CreateApp,T as createState,A as css,y as html,y as jsx,u as render,y as tsx};
//# sourceMappingURL=index.js.map
