var I=Object.defineProperty;var n=(e,t)=>I(e,"name",{value:t,configurable:!0});var U=n(()=>{let e;return{setup:n(s=>(e=s(),s()),"setup"),mount:n(s=>s(e),"mount"),unmount:n(s=>s(e),"unmount")}},"CreateApp");var h=n(e=>{let t=JSON.parse(JSON.stringify(e)),a=new Set,r=n(p=>{for(let m of a)m(p)},"_notifyHandlers");return{set:n(p=>{Object.assign(t,JSON.parse(JSON.stringify(p))),r(JSON.parse(JSON.stringify(t)))},"set"),get:n(()=>JSON.parse(JSON.stringify(t)),"get"),watch:n(p=>{a.add(p)},"watch")}},"createState");var T=n(()=>{let e=new Set;return{add:n(r=>{e.add(r)},"add"),execute:n(()=>{for(let{action:r,validator:s}of e)s()&&r()},"execute")}},"createChain");var B=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","oncontextmenu","onkeydown","onkeyup","onkeypress","onfocus","onblur","onsubmit","onchange","oninput","onreset","oninvalid","onplay","onpause","onended","onvolumechange","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onanimationstart","onanimationend","onanimationiteration","ontransitionend","onload","onerror","onresize","onscroll"];var k=n(e=>()=>!!e&&!Array.isArray(e)&&typeof e=="object","isObject"),N=n(e=>()=>!!e&&Array.isArray(e),"isArray"),L=n(e=>()=>!!e&&typeof e=="function","isFunction"),$=n(e=>()=>typeof e=="string","isString"),F=n(e=>()=>typeof e!="string"?!1:B.includes(e.toLowerCase()),"isEventName"),P=n(e=>()=>typeof e=="string"||typeof e=="number","isTemplateData");var b=n((e,t,a={})=>()=>{let r=T();r.add({validator:$(e.type),action:E(e,t,a)}),r.add({validator:L(e.type),action:C(e,t,a)}),r.execute()},"renderTemplateObject");var A=n((e,t,a={})=>()=>{for(let r of e)d(r,t,a)},"renderTemplateArray");var f=n((e,t,a={})=>{if(!Array.isArray(e)&&typeof e=="object"){d(e,t,a);return}for(let r of e)d(r,t,a)},"renderChildren");var R=n(function(e,t,a,r){var s;t[0]=0;for(var o=1;o<t.length;o++){var c=t[o++],p=t[o]?(t[0]|=c?1:2,a[t[o++]]):t[++o];c===3?r[0]=p:c===4?r[1]=Object.assign(r[1]||{},p):c===5?(r[1]=r[1]||{})[t[++o]]=p:c===6?r[1][t[++o]]+=p+"":c?(s=e.apply(p,R(e,p,a,["",null])),r.push(s),p[0]?t[0]|=2:(t[o-2]=0,t[o]=s)):r.push(p)}return r},"n"),D=new Map;function _(e){var t=D.get(this);return t||(t=new Map,D.set(this,t)),(t=R(this,t.get(e)||(t.set(e,t=function(a){for(var r,s,o=1,c="",p="",m=[0],i=function(l){o===1&&(l||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,l,c):o===3&&(l||c)?(m.push(3,l,c),o=2):o===2&&c==="..."&&l?m.push(4,l,0):o===2&&c&&!l?m.push(5,0,!0,c):o>=5&&((c||!l&&o===5)&&(m.push(o,0,c,s),o=6),l&&(m.push(o,l,0,s),o=6)),c=""},y=0;y<a.length;y++){y&&(o===1&&i(),i(y));for(var S=0;S<a[y].length;S++)r=a[y][S],o===1?r==="<"?(i(),m=[m],o=3):c+=r:o===4?c==="--"&&r===">"?(o=1,c=""):c=r+c[0]:p?r===p?p="":c+=r:r==='"'||r==="'"?p=r:r===">"?(i(),o=1):o&&(r==="="?(o=5,s=c,c=""):r==="/"&&(o<5||a[y][S+1]===">")?(i(),o===3&&(m=m[0]),o=m,(m=m[0]).push(2,0,o),o=0):r===" "||r==="	"||r===`
`||r==="\r"?(i(),o=2):c+=r),o===3&&c==="!--"&&(o=4,m=m[0])}return i(),m}(e)),t),arguments,[])).length>1?t:t[0]}n(_,"default");var z=n((e,t,...a)=>({type:e,props:t,children:a}),"hypertext"),u=_.bind(z);var J=n(e=>{let t=5381;for(let a=0;a<e.length;a++)t=t*33^e.charCodeAt(a);return`css-${(t>>>0).toString(36)}`},"createHash");var X=new Map,W=n(e=>{let t=X.get(e);if(t!==void 0)return t;let a=document.createElement("style");return a.setAttribute("data-component",e),document.head.appendChild(a),X.set(e,a),a},"createStyleElement");var K=n((e,t)=>n(o=>o.replace(/([^{]+\{)/g,(c,p)=>p.includes("@")?c:`${p.includes(t)?p:`.${t} ${p.trim()}`} `),"scopeSelectors")(n(o=>o.replace(/(?:^|\})([^{]+;)/g,(c,p)=>`.${t} {${p.trim()}}`),"wrapLooseRules")(n(o=>o.replace(/&/g,`.${t}`),"substituteScope")(e))),"processCSS"),G=n((e,t)=>{let a=/(@media[^{]+\{)([\s\S]+?})\s*}/g,r=/(@keyframes[^{]+\{(?:[^{}]*\{[^{}]*\}\s*)*?\})/g,s=n(l=>{let g=[];return[l.replace(r,x=>(g.push(x),"")),g]},"extractKeyframes"),[o,c]=s(e),p=n(l=>{let g=[];return[l.replace(a,(x,O,w)=>{let q=K(w.trim(),t);return g.push(`${O}
  ${q}
}`),""}),g]},"processMediaQueries"),[m,i]=p(o);return[K(m.trim(),t),...i,...c].filter(Boolean).join(`
`)},"transpile");var Q=new Map,j=n((e,...t)=>{let a=e.reduce((p,m,i)=>`${p}${m}${t[i]!==void 0?t[i]:""}`,""),r=Q.get(a);if(r!==void 0)return r;let s=J(a),o=G(a,s),c=W(`component-${s}`);return c.innerHTML.includes(o)||(c.innerHTML+=o),Q.set(a,s),s},"css");var V=n(e=>e.name.split(/(?=[A-Z])/).join("-").toLowerCase(),"_createTagByFactoryName"),Z=n(e=>{let t={};return{currentState:t,useState:n(r=>{let s=e.get();return e.set({...r,...s}),Object.assign(t,e.get()),{get:e.get,set:e.set,watch:e.watch}},"useState")}},"_createUseState"),Y=n(({props:e,state:t,css:a})=>{let r={};return{styles:r,useStyle:n(o=>{let c=o(),p={};for(let m in c){let i=c[m],y=i({props:e,state:t,css:a});p[m]=y}return Object.assign(r,p),p},"useStyle")}},"_createUseStyle"),ee=n(e=>n((a,r)=>a(e,r),"useTemplate"),"_createUseTemplate"),te=n(({props:e,state:t})=>{let a={};return{actions:a,useAction:n(s=>{let o=s({props:e,state:t});Object.assign(a,o)},"useAction")}},"_createUseAction"),C=n((e,t,a={})=>()=>{let r=e.type,s=V(r),o=document.createElement(s),c=e.props,p=JSON.parse(JSON.stringify(a)),m=h(p),{currentState:i,useState:y}=Z(m),{styles:S,useStyle:l}=Y({props:c,state:i,css:j}),{actions:g,useAction:M}=te({props:c,state:m}),x=ee({props:c,state:i,html:u,jsx:u,tsx:u,styles:S,actions:g}),O=r({props:c,useState:y,useStyle:l,useTemplate:x,useAction:M});t.insertAdjacentElement("beforeend",o),f(O,o,i),m.watch(w=>{o.innerHTML="",d(e,o,w)})},"createElementByFactoryName");var v=n((e,t)=>{let a=t?Object.keys(t):[];for(let r of a)if(!F(r)())e.setAttribute(r,t[r]);else{let s=r.replace(/on/,"").toLowerCase(),o=t[r];e.addEventListener(s,o)}return e},"setElementAttributes");var E=n((e,t,a={})=>()=>{let r=e.type,s=document.createElement(r);v(s,e.props),t.insertAdjacentElement("beforeend",s),f(e.children,s,a)},"createElementByTagName");var H=n((e,t,a={})=>()=>{if(typeof e=="string"&&t.insertAdjacentHTML("beforeend",e),typeof e=="number"){let s=Number(e).toString();t.insertAdjacentHTML("beforeend",s)}},"renderTemplateData");var d=n((e,t=document.body,a={})=>{let r=T(),s=t||document.querySelector("body");return r.add({validator:N(e),action:A(e,s,a)}),r.add({validator:k(e),action:b(e,s,a)}),r.add({validator:P(e),action:H(e,s,a)}),r.execute(),s},"render");export{U as CreateApp,h as createState,j as css,u as html,u as jsx,d as render,u as tsx};
//# sourceMappingURL=index.js.map
