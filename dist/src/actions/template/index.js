var X=Object.defineProperty;var a=(e,t)=>X(e,"name",{value:t,configurable:!0});var g=a(()=>{let e=new Set;return{add:a(r=>{e.add(r)},"add"),execute:a(()=>{for(let{action:r,validator:s}of e)s()&&r()},"execute")}},"createChain");var _=["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmouseout","onmousemove","onmouseenter","onmouseleave","oncontextmenu","onkeydown","onkeyup","onkeypress","onfocus","onblur","onsubmit","onchange","oninput","onreset","oninvalid","onplay","onpause","onended","onvolumechange","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onanimationstart","onanimationend","onanimationiteration","ontransitionend","onload","onerror","onresize","onscroll"];var j=a(e=>()=>!!e&&!Array.isArray(e)&&typeof e=="object","isObject"),v=a(e=>()=>!!e&&Array.isArray(e),"isArray"),C=a(e=>()=>!!e&&typeof e=="function","isFunction"),H=a(e=>()=>typeof e=="string","isString"),M=a(e=>()=>typeof e!="string"?!1:_.includes(e.toLowerCase()),"isEventName"),O=a(e=>()=>typeof e=="string"||typeof e=="number","isTemplateData");var T=a((e,t,o={})=>()=>{let r=g();r.add({validator:H(e.type),action:b(e,t,o)}),r.add({validator:C(e.type),action:x(e,t,o)}),r.execute()},"renderTemplateObject");var S=a((e,t=document.body,o={})=>{let r=g(),s=t||document.querySelector("body");return r.add({validator:v(e),action:h(e,s,o)}),r.add({validator:j(e),action:T(e,s,o)}),r.add({validator:O(e),action:A(e,s,o)}),r.execute(),s},"render");var h=a((e,t,o={})=>()=>{for(let r of e)S(r,t,o)},"renderTemplateArray");var f=a((e,t,o={})=>{if(!Array.isArray(e)&&typeof e=="object"){S(e,t,o);return}for(let r of e)S(r,t,o)},"renderChildren");var q=a(()=>Math.random().toString(36).substring(2,11),"_createUUID"),w=a(e=>{let t=JSON.parse(JSON.stringify(e)),o=new Set,r=q(),s=a(m=>{for(let p of o)p(m)},"_notifyHandlers");return{set:a(m=>{Object.assign(t,JSON.parse(JSON.stringify(m))),s(JSON.parse(JSON.stringify(t)))},"set"),get:a(()=>JSON.parse(JSON.stringify(t)),"get"),watch:a(m=>{o.add(m)},"watch")}},"createState");var J=a(function(e,t,o,r){var s;t[0]=0;for(var n=1;n<t.length;n++){var c=t[n++],i=t[n]?(t[0]|=c?1:2,o[t[n++]]):t[++n];c===3?r[0]=i:c===4?r[1]=Object.assign(r[1]||{},i):c===5?(r[1]=r[1]||{})[t[++n]]=i:c===6?r[1][t[++n]]+=i+"":c?(s=e.apply(i,J(e,i,o,["",null])),r.push(s),i[0]?t[0]|=2:(t[n-2]=0,t[n]=s)):r.push(i)}return r},"n"),P=new Map;function N(e){var t=P.get(this);return t||(t=new Map,P.set(this,t)),(t=J(this,t.get(e)||(t.set(e,t=function(o){for(var r,s,n=1,c="",i="",m=[0],p=function(y){n===1&&(y||(c=c.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,y,c):n===3&&(y||c)?(m.push(3,y,c),n=2):n===2&&c==="..."&&y?m.push(4,y,0):n===2&&c&&!y?m.push(5,0,!0,c):n>=5&&((c||!y&&n===5)&&(m.push(n,0,c,s),n=6),y&&(m.push(n,y,0,s),n=6)),c=""},l=0;l<o.length;l++){l&&(n===1&&p(),p(l));for(var u=0;u<o[l].length;u++)r=o[l][u],n===1?r==="<"?(p(),m=[m],n=3):c+=r:n===4?c==="--"&&r===">"?(n=1,c=""):c=r+c[0]:i?r===i?i="":c+=r:r==='"'||r==="'"?i=r:r===">"?(p(),n=1):n&&(r==="="?(n=5,s=c,c=""):r==="/"&&(n<5||o[l][u+1]===">")?(p(),n===3&&(m=m[0]),n=m,(m=m[0]).push(2,0,n),n=0):r===" "||r==="	"||r===`
`||r==="\r"?(p(),n=2):c+=r),n===3&&c==="!--"&&(n=4,m=m[0])}return p(),m}(e)),t),arguments,[])).length>1?t:t[0]}a(N,"default");var z=a((e,t,...o)=>({type:e,props:t,children:o}),"hypertext"),d=N.bind(z);var k=a(e=>{let t=5381;for(let o=0;o<e.length;o++)t=t*33^e.charCodeAt(o);return`css-${(t>>>0).toString(36)}`},"createHash");var U=new Map,$=a(e=>{let t=U.get(e);if(t!==void 0)return t;let o=document.createElement("style");return o.setAttribute("data-component",e),document.head.appendChild(o),U.set(e,o),o},"createStyleElement");var D=a((e,t)=>{let o=e;return o=o.replace(/&/g,`.${t}`),o.replace(/(?:^|\})([^{]+;)/g,(s,n)=>`.${t} {${n.trim()}}`).replace(/([^{]+\{)/g,(s,n)=>n.includes("@")?s:`${n.includes(t)?n:`.${t} ${n.trim()}`} `)},"processCSS"),L=a((e,t)=>{let o=/(@media[^{]+\{)([\s\S]+?})\s*}/gm,r=/(@keyframes[^{]+\{(?:[^{}]*\{[^{}]*\}\s*)*?\})/gm,s=e,n=[],c;for(;(c=r.exec(e))!==null;)c&&(n.push(c[0]),s=s.replace(c[0],""));let i=[],m;for(m=o.exec(s);m!==null;){if(m){let l=D(m[2].trim(),t);i.push(`${m[1]}
  ${l}
}`),s=s.replace(m[0],"")}m=o.exec(s)}return s=D(s.trim(),t),`${s}
${i.join(`
`)}
${n.join(`
`)}`.trim()},"transpile");var G=new Map,F=a((e,...t)=>{let o=e.reduce((i,m,p)=>`${i}${m}${t[p]!==void 0?t[p]:""}`,""),r=G.get(o);if(r!==void 0)return r;let s=k(o),n=L(o,s),c=$(`component-${s}`);return c.innerHTML.includes(n)||(c.innerHTML+=n),G.set(o,s),s},"css");var V=a(e=>e.name.split(/(?=[A-Z])/).join("-").toLowerCase(),"_createTagByFactoryName"),Z=a(e=>{let t={};return{currentState:t,useState:a(r=>{let s=e.get();return e.set({...r,...s}),Object.assign(t,e.get()),{get:e.get,set:e.set,watch:e.watch}},"useState")}},"_createUseState"),W=a(({props:e,state:t,css:o})=>{let r={};return{styles:r,useStyle:a(n=>{let c=n(),i={};for(let m in c){let p=c[m],l=p({props:e,state:t,css:o});i[m]=l}return Object.assign(r,i),i},"useStyle")}},"_createUseStyle"),Y=a(e=>a((o,r)=>o(e,r),"useTemplate"),"_createUseTemplate"),ee=a(({props:e,state:t})=>{let o={};return{actions:o,useAction:a(s=>{let n=s({props:e,state:t});Object.assign(o,n)},"useAction")}},"_createUseAction"),x=a((e,t,o={})=>()=>{let r=e.type,s=V(r),n=document.createElement(s),c=e.props,i=JSON.parse(JSON.stringify(o)),m=w(i),{currentState:p,useState:l}=Z(m),{styles:u,useStyle:y}=W({props:c,state:p,css:F}),{actions:B,useAction:R}=ee({props:c,state:m}),I=Y({props:c,state:p,html:d,jsx:d,tsx:d,styles:u,actions:B}),K=r({props:c,useState:l,useStyle:y,useTemplate:I,useAction:R});t.insertAdjacentElement("beforeend",n),f(K,n,p),m.watch(Q=>{n.innerHTML="",S(e,n,Q)})},"createElementByFactoryName");var E=a((e,t)=>{let o=t?Object.keys(t):[];for(let r of o)if(!M(r)())e.setAttribute(r,t[r]);else{let s=r.replace(/on/,"").toLowerCase(),n=t[r];e.addEventListener(s,n)}return e},"setElementAttributes");var b=a((e,t,o={})=>()=>{let r=e.type,s=document.createElement(r);E(s,e.props),t.insertAdjacentElement("beforeend",s),f(e.children,s,o)},"createElementByTagName");var A=a((e,t,o={})=>()=>{if(typeof e=="string"&&t.insertAdjacentHTML("beforeend",e),typeof e=="number"){let s=Number(e).toString();t.insertAdjacentHTML("beforeend",s)}},"renderTemplateData");export{x as createElementByFactoryName,b as createElementByTagName,f as renderChildren,h as renderTemplateArray,A as renderTemplateData,T as renderTemplateObject,E as setElementAttributes};
//# sourceMappingURL=index.js.map
